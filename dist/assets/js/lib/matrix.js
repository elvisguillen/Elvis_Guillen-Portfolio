Matrix=function(e,t,n,r,i,s){this.a=e||1,this.b=t||0,this.c=n||0,this.d=r||1,this.tx=i||0,this.ty=s||0},Matrix.prototype.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},Matrix.prototype.concat=function(e){var t=new Matrix;return t.a=this.a*e.a+this.c*e.b,t.c=this.a*e.c+this.c*e.d,t.tx=this.a*e.tx+this.c*e.ty+this.tx,t.b=this.b*e.a+this.d*e.b,t.d=this.b*e.c+this.d*e.d,t.ty=this.b*e.tx+this.d*e.ty+this.ty,this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Matrix.prototype.createBox=function(e,t,n,r,i){this.identity(),this.rotate(n),this.scale(e,t),this.translate(r,i)},Matrix.prototype.createGradientBox=function(e,t,n,r,i){},Matrix.prototype.deltaTransformPoint=function(e){var e={x:this.a*e.x+this.c*e.y,y:this.b*e.x+this.d*e.y};return new Point(e.x,e.y)},Matrix.prototype.identity=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},Matrix.prototype.invert=function(){var e=this.a*this.d-this.b*this.c;return new Matrix(this.d/e,-this.b/e,-this.c/e,this.a/e,(this.c*this.ty-this.d*this.tx)/e,(this.b*this.tx-this.a*this.ty)/e);var t,n,r,i,s,o,u},Matrix.prototype.rotate=function(e){var t=new Matrix(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.concat(t)},Matrix.prototype.getRotation=function(e){var t=Math.sqrt(this.a*this.a+this.b*this.b),n=this.b/t,r=Math.asin(n);return e?Math.round(r*(180/Math.PI)):r},Matrix.prototype.degToRad=function(e){return e*(Math.PI/180)},Matrix.prototype.radToDeg=function(e){return e*(180/Math.PI)},Matrix.prototype.scale=function(e,t){var n=new Matrix(e,0,0,t,0,0);this.concat(n)},Matrix.prototype.toString=function(){return this.a+" "+this.c+" "+this.tx+"\n"+this.b+" "+this.d+" "+this.ty},Matrix.prototype.transformPoint=function(e){var e={x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty};return new Point(e.x,e.y)},Matrix.prototype.translate=function(e,t){this.tx+=e,this.ty+=t},Matrix.prototype.toMatrixString=function(){return"matrix("+this.a.toFixed(20)+", "+this.b.toFixed(20)+", "+this.c.toFixed(20)+", "+this.d.toFixed(20)+", "+this.tx.toFixed(20)+", "+this.ty.toFixed(20)+")"},Matrix.initWithElem=function(e){var t=e.css("-webkit-transform"),n=new Matrix;try{var r=t.split("(")[1].split(")")[0].split(",");n=new Matrix(Number(r[0]),Number(r[1]),Number(r[2]),Number(r[3]),Number(r[4]),Number(r[5]))}catch(i){}return n};